<!DOCTYPE html>
<html lang="pt-br">
<head>
  <!-- Meta tags -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <meta name="viewport" content="width=device-width" />

  <!-- Favicon and title -->
  <link rel="icon" href="https://www.gethalfmoon.com/static/halfmoon/img/halfmoon-fav-alt.png">
  <title>AuthWithTokenForEmail</title>

  <!-- Halfmoon CSS -->
  <link href="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/css/halfmoon-variables.min.css" rel="stylesheet" />
  <!--
    Or,
    Use the following (no variables, supports IE11):
    <link href="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/css/halfmoon.min.css" rel="stylesheet" />
    Learn more: https://www.gethalfmoon.com/docs/customize/#notes-on-browser-compatibility
  -->
</head>
<body class="with-custom-webkit-scrollbars with-custom-css-scrollbars" data-dm-shortcut-enabled="true" data-set-preferred-mode-onload="true">
  <!-- Modals go here -->
  <!-- Reference: https://www.gethalfmoon.com/docs/modal -->

  <!-- Page wrapper start -->
  <div class="page-wrapper">

    <!-- Sticky alerts (toasts), empty container -->
    <!-- Reference: https://www.gethalfmoon.com/docs/sticky-alerts-toasts -->
    <div class="sticky-alerts"></div>

    <!-- Content wrapper start -->
    <div class="content-wrapper">
        <div class="h-full w-full d-flex flex-column justify-content-center align-items-center">
            <form class="form-inline w-400 mw-full d-none" id="login" action="LoginWithAPI.php" method="post">
                <img src="https://avatars.githubusercontent.com/u/106925507?s=200&v=4" class="img-fluid rounded-circle mr-5" alt="foto do github do criador" width="36">
                <input type="email" class="form-control" id="email" name="email" placeholder="nome@email.com" required>
                <input type="submit" class="btn btn-primary" value="Conectar-se com Email">
            </form>
            <div class="alert alert-success filled-dm d-none" role="alert" id="enviado">
              <h4 class="alert-heading">Sucesso</h4>
              Enviamos um e-mail para sua caixa de mensagem, será necessário clicar no link para se conectar.
            </div>
            <div class="alert alert-success filled-dm d-none" role="alert" id="autorizado">
              <h4 class="alert-heading">Sucesso</h4>
              Você conseguiu se conectar com sucesso utilizando token por email.
            </div>
            <div class="alert alert-danger filled-dm d-none" role="alert" id="bloqueado">
              <h4 class="alert-heading">Bloqueado</h4>
              Seu acesso está temporariamente bloqueado, tente novamente se conectar em 24h.
            </div>
            <div class="alert alert-danger filled-dm d-none" role="alert" id="contabloqueada">
              <h4 class="alert-heading">Bloqueado</h4>
              Sua conta está temporariamente bloqueada, tente novamente se conectar em 24h.
            </div>
            <div class="alert alert-secondary filled-dm d-none" role="alert" id="reenviar">
              <h4 class="alert-heading">Aviso</h4>
              Seu token de acesso foi gerado e enviado para seu email, tente novamente em 10min.
            </div>
        </div>
    </div>
    <!-- Content wrapper end -->

  </div>
  <!-- Page wrapper end -->

  <!-- Halfmoon JS -->
  <script src="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/js/halfmoon.min.js"></script>
  <script>
    var baseUrl = window.location.href;
    var notification = baseUrl.substring(baseUrl.lastIndexOf('/') + 1);
    if(notification === "bloqueado"){
      var element = document.getElementById("bloqueado");
      element.classList.remove("d-none");
    }else if(notification === "enviado"){
      var element = document.getElementById("enviado");
      element.classList.remove("d-none");
    }else if(notification === "autorizado"){
      var element = document.getElementById("autorizado");
      element.classList.remove("d-none");
    }else if(notification === "contabloqueada"){
      var element = document.getElementById("contabloqueada");
      element.classList.remove("d-none");
    }else if(notification === "reenviar"){
      var element = document.getElementById("reenviar");
      element.classList.remove("d-none");
    }else {
      var element = document.getElementById("login");
      element.classList.remove("d-none");
    }
  </script>
</body>
</html>